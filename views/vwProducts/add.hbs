{{#section "title"}}
  Add product
{{/section}}
{{#section "js"}}
<script> $('#customFile').on('change', function(){ files = $(this)[0].files; name = ''; for(var i = 0; i < files.length; i++){ name += '\"' + files[i].name + '\"' + (i != files.length-1 ? ", " : ""); } $(".custom-file-label").html(name); });
</script>
<script src="/public/fileUpload.js"></script>
{{/section}}
<div class="card">
  <div class="card-header">
    <h4>
      New Product
    </h4>
  </div>
  <div class="card-body">
    <form method="POST" action="" enctype="multipart/form-data" onsubmit="return Validate(this);">
      <div class="form-group">
        <label for="txtProName">
          Name
        </label>
        <input
          type="text"
          class="form-control"
          id="txtProName"
          name="imgName"
          placeholder="Name of new product"
          required
          autofocus
        />

      </div>
      <div class="form-group">
        <label for="exampleFormControlSelect1">
          Select category
        </label>
        <select
          class="form-control"
          id="exampleFormControlSelect1"
          name="selectCat"
        >
          {{#each categories}}
            <option value="{{name}}" {{#if isSelected}}selected{{/if}}>
              {{name}}
            </option>
          {{/each}}
        </select>
      </div>
      <div class="form-group">
        <label for="txtCatName">
          Price
        </label>
        <div class="input-group-prepend">
          <span class="input-group-text">
            $
          </span>
          <span class="input-group-text">
            0.00
          </span>
          <input
            type="number"
            step="0.01"
            min="0"
            class="form-control"
            id="txtCatName"
            name="price"
            required
          />
        </div>
      </div>
      <div class="form-group">
        <label for="txtCatName">
          Sale-off Price
        </label>
        <div class="input-group-prepend">
          <span class="input-group-text">
            $
          </span>
          <span class="input-group-text">
            0.00
          </span>
          <input
            type="number"
            step="0.01"
            min="0"
            class="form-control"
            id="txtCatName"
            name="salePrice"
          />
        </div>
      </div>
      <div class="form-group">
        <div class="input-group-prepend">
          <label for="txtCatName">
            Image of product
          </label>
        </div>
        
        <div class="custom-file">
          <input
            type="file"
            class="custom-file-input"
            id="customFile"
            lang="en"
            name="imgProduct"
              required
          />
          <label class="custom-file-label" for="customFile">
            Choose file
          </label>
        </div>
      </div>
      <div class="form-group">
        <label for="exampleFormControlTextarea1">
          Details
        </label>
        <textarea
          class="form-control"
          id="exampleFormControlTextarea1"
          rows="3"
          name="details"
            required
        ></textarea>
      </div>
      <a
        class="btn btn-success"
        href="/admin/products"
        role="button"
        title="Back to List"
      >
        <i class="fa fa-backward" aria-hidden="true"></i>
      </a>
      <button type="submit" class="btn btn-primary" value="Add new">
        <i class="fa fa-check" aria-hidden="true"></i>
        Add
      </button>
      {{! <input type="submit" value="Add new"> }}
    </form>
  </div>
  <div class="card-footer text-muted">
    Footer
  </div>
</div>